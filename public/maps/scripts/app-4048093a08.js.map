{"version":3,"sources":["scripts/app-4048093a08.js"],"names":["angular","module","QueueService","$http","$log","$q","API","getQueue","getQueueSuccess","response","data","getQueueFailed","error","reject","get","then","getTestQueue","unplugged","username","uuid","plugged","joinQueue","user","joinQueueSuccess","joinQueueFailed","post","removeQueue","uid","removeQueueSuccess","removeQueueFailed","factory","$inject","MainController","$interval","log","vm","this","isCollapsed","queue","userIsQueued","chargingStates","currentChargingClass","currindex","indexOf","removeFromQueue","controller","LoginService","logUser","getUser","service","LoginController","$state","go","runBlock","debug","run","constant","config","$logProvider","$stateProvider","$urlRouterProvider","debugEnabled","otherwise","state","url","templateUrl","controllerAs","$templateCache","put"],"mappings":"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","file":"scripts/app-4048093a08.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('EVQueue', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria', 'ui.bootstrap','ui.router']);\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('EVQueue')\n        .factory('QueueService', QueueService);\n\n\n    function QueueService($http, $log, $q,API) {\n\n        return {\n            getQueue: getQueue,\n            joinQueue:joinQueue,\n            getTestQueue:getTestQueue,\n            removeQueue:removeQueue\n        };\n\n        function getQueue() {\n            return $http.get(API + 'queue')\n                .then(getQueueSuccess)\n                ['catch'](getQueueFailed);\n\n            function getQueueSuccess(response) {\n                return response.data;\n            }\n\n            function getQueueFailed(error) {\n                $log.error('XHR Failed for getQueue.' + error.data);\n                return $q.reject(error);\n            }\n        }\n\n        function getTestQueue() {\n            return {\n                unplugged:[\n                    {\"username\":\"unplugged\",\"uuid\":\"21312\"},\n                    {\"username\":\"unplugged\",\"uuid\":\"12312\"}\n                ],\n                plugged:[\n                    {\"username\":\"plugged1\",\"uuid\":\"12312\"},\n                    {\"username\":\"plugged2\",\"uuid\":\"42142\"}\n                ]\n            };\n        }\n\n        function joinQueue(user) {\n            return $http.post(API+ 'queue',user)\n                .then(joinQueueSuccess)\n                ['catch'](joinQueueFailed);\n\n            function joinQueueSuccess(response) {\n                return response.data;\n            }\n\n            function joinQueueFailed(error) {\n                $log.error('XHR Failed for getQueue.' + error.data);\n                return $q.reject(error);\n            }\n        }\n\n        function removeQueue(uid) {\n            return $http.delete(API+ 'queue/'+uid)\n                .then(removeQueueSuccess)\n                ['catch'](removeQueueFailed);\n\n            function removeQueueSuccess(response) {\n                return response.data;\n            }\n\n            function removeQueueFailed(error) {\n                $log.error('XHR Failed for getQueue.' + error.data);\n                return $q.reject(error);\n            }\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('EVQueue')\n        .controller('QueueController', MainController);\n\n    /** @ngInject */\n    function MainController($log,QueueService,$interval) {\n        $log.log(\"QueueController Init\");\n        var vm = this;\n        vm.user = null;\n        vm.isCollapsed = false;\n        vm.queue =  {\n            unplugged:[\n                {\"username\":\"unplugged\",\"uuid\":\"21312\"}\n            ],\n            plugged:[\n                {\"username\":\"plugged1\",\"uuid\":\"12312\"}\n            ]\n        };\n\n        vm.getQueue = function(){\n            QueueService.getQueue().then(function(data){\n                vm.queue = data;\n            });\n\n            //vm.queue = QueueService.getTestQueue();\n        };\n\n        vm.userIsQueued = false;\n\n        vm.joinQueue = function(){\n            vm.userIsQueued = true;\n            QueueService.joinQueue({\"username\":vm.user}).then(function(data){\n                vm.queue = data;\n            });\n        };\n\n\n        var chargingStates = [\n            \"fa-battery-empty\",\n            \"fa-battery-quarter\",\n            \"fa-battery-half\",\n            \"fa-battery-three-quarters\",\n            \"fa-battery-full\",\n            \"fa-battery-empty\",\n            \"fa-battery-empty\",\n            \"fa-battery-empty\"\n        ];\n        vm.currentChargingClass = chargingStates[0];\n        $interval(function(){\n\n            var currindex = chargingStates.indexOf(vm.currentChargingClass);\n\n            if(currindex < 5){\n                currindex++;\n            }else{\n                currindex = 0;\n            }\n            vm.currentChargingClass = chargingStates[currindex];\n        },1500);\n\n        vm.removeFromQueue = function(user){\n            QueueService.removeQueue(user.uuid).then(function(data){\n                vm.queue = data;\n            });\n        };\n\n        $interval(function(){\n            vm.getQueue();\n        },30000);\n\n        vm.getQueue();\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('EVQueue')\n        .service('LoginService', LoginService);\n\n\n    function LoginService() {\n        var user = null;\n        this.logUser = function(username){\n            user = username;\n        };\n        this.getUser = function(){\n            return user;\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('EVQueue')\n        .controller('LoginController', LoginController);\n\n    /** @ngInject */\n    function LoginController($log,LoginService,$state) {\n        var vm = this;\n        vm.user = null;\n        vm.logUser = function(){\n            $log.log(\"user\");\n            LoginService.logUser(vm.user);\n            $state.go(\"queue\");\n        };\n\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('EVQueue')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('EVQueue')\n    .constant('AppName', 'EVQueue')\n    .constant('API', '/api/');\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('EVQueue')\n        .config(config);\n\n    /** @ngInject */\n    function config($logProvider, $stateProvider,$urlRouterProvider) {\n        // Enable log\n        $logProvider.debugEnabled(true);\n\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider\n            .state('login', {\n                url: '/login',\n                templateUrl: 'app/login/login.html',\n                controller: 'LoginController',\n                controllerAs: 'vm'\n            })\n            .state('queue', {\n                url: '/',\n                templateUrl: 'app/queue/queue.html',\n                controller: 'QueueController',\n                controllerAs: 'vm'\n            });\n    }\n\n})();\n\nangular.module(\"EVQueue\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/login/login.html\",\"<div class=\\\"row marketing\\\"><form><div class=\\\"form-group\\\"><label for=\\\"username\\\">Username</label> <input type=\\\"text\\\" ng-model=\\\"vm.user\\\" id=\\\"username\\\" placeholder=\\\"username\\\"></div><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.logUser()\\\">Login</button></form></div>\");\n$templateCache.put(\"app/queue/queue.html\",\"<div class=\\\"queue-view\\\"><div class=\\\"head-container\\\"><div class=\\\"container\\\"><div class=\\\"header\\\">EVQueue</div><div class=\\\"subhead\\\">Financial Engines</div><p>Simple utility app to keep track of the EV Cars queue. Go ahead and set your username and join the queue from your computer / phone whenever.</p><input placeholder=\\\"Username\\\" type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"usr\\\" ng-model=\\\"vm.user\\\"> <button ng-disabled=\\\"vm.userIsQueued\\\" type=\\\"button\\\" class=\\\"btn btn-head\\\" ng-click=\\\"vm.joinQueue()\\\">Join Queue</button></div></div><div class=\\\"plugged row\\\"><div class=\\\"cols\\\" ng-repeat=\\\"p in vm.queue.plugged.slice().reverse() | limitTo: 4\\\"><span class=\\\"charging\\\"><i class=\\\"fa fa-battery-empty\\\" ng-class=\\\"vm.currentChargingClass\\\"></i></span> <span class=\\\"charging-text\\\" ng-bind=\\\"p.username\\\"></span></div></div><div class=\\\"row item\\\" ng-repeat=\\\"q in vm.queue.unplugged\\\" ng-click=\\\"vm.removeFromQueue(q)\\\"><div class=\\\"battery\\\"><i class=\\\"fa fa-battery-empty\\\"></i></div><div ng-bind=\\\"q.username\\\"></div><div class=\\\"close-btn\\\"><i class=\\\"fa fa-times-circle\\\"></i></div></div></div>\");}]);"],"sourceRoot":"/source/"}